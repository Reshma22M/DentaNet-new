<!DOCTYPE html>
<html class="light" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>DentaNet | Student Submission Evaluation</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&amp;display=swap" rel="stylesheet"/>
<link href="https://fonts.googleapis.com/icon?family=Material+Icons+Round" rel="stylesheet"/>
<link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&amp;display=swap" rel="stylesheet"/>
<script src="https://cdn.tailwindcss.com?plugins=forms,typography,container-queries"></script>
<script>
        tailwind.config = {
            darkMode: "class",
            theme: {
                extend: {
                    colors: {
                        primary: "#3B82F6",
                        "background-light": "#F8FAFC",
                        "background-dark": "#0F172A",
                    },
                    fontFamily: {
                        display: ["Inter", "sans-serif"],
                    },
                    borderRadius: {
                        DEFAULT: "0.75rem",
                    },
                },
            },
        };
    </script>
<style type="text/tailwindcss">
        body { font-family: 'Inter', sans-serif; }
        .material-symbols-outlined {
            font-variation-settings: 'FILL' 0, 'wght' 400, 'GRAD' 0, 'opsz' 24;
        }
    </style>
</head>
<body class="bg-background-light dark:bg-background-dark text-slate-800 dark:text-slate-200 transition-colors duration-300">
<nav class="fixed top-0 z-[60] w-full bg-white/80 dark:bg-slate-900/80 backdrop-blur-md border-b border-slate-200 dark:border-slate-800">
<div class="px-4 sm:px-6 lg:px-8">
<div class="flex justify-between items-center h-16">
<div class="flex items-center gap-2">
<div class="w-10 h-10 bg-primary rounded-lg flex items-center justify-center text-white">
<span class="material-icons-round">medical_services</span>
</div>
<span class="text-xl font-bold tracking-tight text-slate-900 dark:text-white">Denta<span class="text-primary">NET</span></span>
</div>
<div class="hidden md:flex items-center gap-8">
<a class="text-slate-600 dark:text-slate-400 hover:text-primary transition-colors font-medium text-sm" href="lecturer-dashboard.html">Dashboard</a>
<a class="text-primary dark:text-blue-400 border-b-2 border-primary font-semibold text-sm pb-1" href="#">Submissions</a>
<a class="text-slate-600 dark:text-slate-400 hover:text-primary transition-colors font-medium text-sm" href="#">Lab Slots</a>
<a class="text-slate-600 dark:text-slate-400 hover:text-primary transition-colors font-medium text-sm" href="lecturer-upload-materials.html">Materials</a>
</div>
<div class="flex items-center space-x-4">
<button class="relative p-2 text-slate-500 hover:text-primary dark:text-slate-400 dark:hover:text-white transition-colors">
<span class="material-icons-round">notifications</span>
<span class="absolute top-2 right-2 flex h-2 w-2">
<span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"></span>
<span class="relative inline-flex rounded-full h-2 w-2 bg-red-500"></span>
</span>
</button>
<div class="h-9 w-9 rounded-full overflow-hidden border-2 border-primary/20">
<img alt="Lecturer Profile" src="https://lh3.googleusercontent.com/aida-public/AB6AXuALWuF6B5oX9ygl8OyWrBzwQ5hcxBZfSmOfVC2mhbqNuZydzqe-vKZ9WSckygK9rL6x0ziev2B08UbefEelTkqB5VDxMRfESSF0_5ISWheGiSRb83eXQgtKBICXptyJbqXp5lRAz-_Cd8I9CM2YUYR0i4nSNxJvyCJB6r9TYRaxUm-JRxlHhDwYej-YeryjUpQb5GbK8kmSRFqOw94ONvM5Lnq9qSyQ5rI2QR7pTUtHLtvBRTaoGpWTW-9kQoxsue3uziHWW_37jXU"/>
</div>
</div>
</div>
</div>
</nav>

<main class="pt-16 min-h-screen">
<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
<!-- Header -->
<div class="mb-8">
<div class="flex items-center gap-3 mb-2">
<a href="#" class="text-slate-500 hover:text-primary transition-colors">
<span class="material-symbols-outlined">arrow_back</span>
</a>
<h1 class="text-3xl font-bold text-slate-900 dark:text-white">Cavity Preparation Exam - Evaluation</h1>
</div>
<div class="flex items-center gap-6 text-sm text-slate-600 dark:text-slate-400">
<span class="flex items-center gap-1">
<span class="material-symbols-outlined text-sm">person</span>
                    Student: <strong class="text-slate-900 dark:text-white">Reshma Mohamed</strong> (IM/2022/087)
                </span>
<span class="flex items-center gap-1">
<span class="material-symbols-outlined text-sm">calendar_today</span>
                    Submitted: <strong>October 17, 2025</strong>
</span>
</div>
</div>

<div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
<!-- Left Column - Main Content -->
<div class="lg:col-span-2 space-y-8">
<!-- Submission Images -->
<section class="bg-white dark:bg-slate-800 rounded-2xl border border-slate-200 dark:border-slate-700 p-6 shadow-sm">
<h2 class="text-xl font-semibold mb-4 flex items-center gap-2">
<span class="material-icons-round text-primary">collections</span> 
                        Student Submissions
                    </h2>
<div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
<div class="aspect-video rounded-xl overflow-hidden bg-slate-200 dark:bg-slate-800 group relative cursor-pointer" onclick="openImageModal(this.querySelector('img').src)">
<img alt="Cavity preparation - Occlusal view" class="w-full h-full object-cover transition-transform duration-300 group-hover:scale-105" src="https://lh3.googleusercontent.com/aida-public/AB6AXuDrC1fwu2gFcPNf6ySjGAp4bQayXOyxRQFC9nQFO1XC619z8Y5PabQCV4QH9bQSTdxUmMr8Leh9165S-irGJzIBcPO6eHFU4I5R1GHchCk40n0P5fV45Zi8xaIJIUQ8pd_CVSr7gazlEL6KVrkEYPh1A3HGDWNnJEPtUFv4aA4cOevDthIeOHU7ay4yxN2ZN7kQY9PAHSuhMLsziQ0lxYPRsAvvrAhsLvPOCjoYzUHFdkC553VO3e5flVM528G6b4bg0xPGJFm2Ico"/>
<div class="absolute bottom-3 left-3 bg-black/70 text-white text-xs px-3 py-1.5 rounded-lg font-medium">
<span class="material-icons-round text-xs align-middle mr-1">camera_alt</span>
                            Angle: Occlusal View
                        </div>
<div class="absolute top-3 right-3 opacity-0 group-hover:opacity-100 transition-opacity">
<span class="material-icons-round text-white bg-black/50 p-2 rounded-lg">zoom_in</span>
</div>
</div>
<div class="aspect-video rounded-xl overflow-hidden bg-slate-200 dark:bg-slate-800 group relative cursor-pointer" onclick="openImageModal(this.querySelector('img').src)">
<img alt="Cavity preparation - Lateral view" class="w-full h-full object-cover transition-transform duration-300 group-hover:scale-105" src="https://lh3.googleusercontent.com/aida-public/AB6AXuB7xqggS7u6Sks2gSV3Or_F9kq1N1k_0IYzhDl_fKQXATXtglYtUSNuaussT7Y-SwP6EmJfsdar_MSYv-slr-Bf43yXmqOLrScIOxLaYzwW7_9LSp0B5XuJBs9gdtduN8_2E8r-Whbe-Q-FA9m9lUOWdSWtYgpN5MMcTa11vRyBpFt_6TKJ8cJXjWPQDf4Ro9XoUzHA-ntW8Q5z7tUAnadQtDzZlLvtXq6HYzdMyAqbcoB5SWHXLrNhxNveELZIjlIrp8AgPz_NcGA"/>
<div class="absolute bottom-3 left-3 bg-black/70 text-white text-xs px-3 py-1.5 rounded-lg font-medium">
<span class="material-icons-round text-xs align-middle mr-1">camera_alt</span>
                            Angle: Lateral View
                        </div>
<div class="absolute top-3 right-3 opacity-0 group-hover:opacity-100 transition-opacity">
<span class="material-icons-round text-white bg-black/50 p-2 rounded-lg">zoom_in</span>
</div>
</div>
</div>
</section>

<!-- AI Evaluation Results -->
<section class="bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-blue-950/20 dark:to-indigo-950/20 border border-blue-200 dark:border-blue-800 rounded-2xl p-6">
<div class="flex items-center gap-2 mb-6">
<span class="material-symbols-outlined text-blue-600 dark:text-blue-400 text-2xl">psychology</span>
<h2 class="text-xl font-bold text-slate-900 dark:text-white">AI Evaluation Results</h2>
</div>
<div class="grid grid-cols-1 md:grid-cols-3 gap-6">
<div class="bg-white dark:bg-slate-800/50 rounded-xl p-4">
<p class="text-xs font-bold text-slate-500 dark:text-slate-400 uppercase mb-1">AI Grade</p>
<p class="text-3xl font-bold text-blue-600 dark:text-blue-400">85<span class="text-lg">/100</span></p>
</div>
<div class="bg-white dark:bg-slate-800/50 rounded-xl p-4">
<p class="text-xs font-bold text-slate-500 dark:text-slate-400 uppercase mb-1">Confidence Level</p>
<div class="flex items-center gap-2 mt-2">
<div class="flex gap-1">
<span class="w-3 h-3 rounded-full bg-green-500"></span>
<span class="w-3 h-3 rounded-full bg-green-500"></span>
<span class="w-3 h-3 rounded-full bg-green-500"></span>
<span class="w-3 h-3 rounded-full bg-slate-300 dark:bg-slate-600"></span>
</div>
<span class="font-bold text-green-600 dark:text-green-400 text-sm">High</span>
</div>
</div>
<div class="bg-white dark:bg-slate-800/50 rounded-xl p-4">
<p class="text-xs font-bold text-slate-500 dark:text-slate-400 uppercase mb-1">Processing Time</p>
<p class="text-lg font-semibold text-slate-900 dark:text-white mt-1">2.3 seconds</p>
</div>
</div>
<div class="mt-4">
<p class="text-xs font-bold text-slate-500 dark:text-slate-400 uppercase mb-2">AI Feedback</p>
<p class="text-slate-700 dark:text-slate-300 leading-relaxed bg-white dark:bg-slate-800/50 p-4 rounded-xl">
                        Excellent preparation overall. Minor adjustments needed in the distal aspect for optimal depth consistency. The outline form is well-defined with good wall convergence.
                    </p>
</div>
</section>

<!-- Manual Evaluation Form -->
<section class="bg-white dark:bg-slate-800 rounded-2xl border border-slate-200 dark:border-slate-700 p-6 shadow-sm">
<div class="flex items-center gap-2 mb-6">
<span class="material-icons-round text-primary">edit_note</span>
<h2 class="text-xl font-bold text-slate-900 dark:text-white">Manual Evaluation & Override</h2>
</div>
<form id="evaluationForm" class="space-y-6">
<div>
<label class="block text-sm font-semibold text-slate-700 dark:text-slate-300 mb-2">
                            Final Grade (0-100) <span class="text-red-500">*</span>
</label>
<input id="finalGrade" class="w-full md:w-1/3 px-4 py-3 bg-blue-50 dark:bg-blue-900/30 border-2 border-blue-200 dark:border-blue-700 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary text-slate-900 dark:text-white font-bold text-lg" max="100" min="0" required type="number" value="90"/>
</div>

<div>
<label class="block text-sm font-semibold text-slate-700 dark:text-slate-300 mb-2">
                            Lecturer Feedback <span class="text-red-500">*</span>
</label>
<textarea id="lecturerFeedback" class="w-full px-4 py-3 bg-blue-50 dark:bg-blue-900/30 border-2 border-blue-200 dark:border-blue-700 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary text-slate-700 dark:text-slate-200 resize-none" placeholder="Provide detailed feedback to the student..." required rows="5">Outstanding work, Reshma. The cavity preparation is precise and meets all requirements. The minor adjustment suggested by the AI has been addressed perfectly. Keep up the excellent work!</textarea>
</div>

<div class="grid grid-cols-1 md:grid-cols-2 gap-4">
<div>
<label class="block text-sm font-semibold text-slate-700 dark:text-slate-300 mb-2">Status</label>
<select class="w-full px-4 py-3 bg-blue-50 dark:bg-blue-900/30 border-2 border-blue-200 dark:border-blue-700 rounded-lg focus:ring-2 focus:ring-primary text-slate-900 dark:text-white">
<option value="pass">Pass</option>
<option value="fail">Fail</option>
<option value="retake">Retake Required</option>
</select>
</div>

<div>
<label class="block text-sm font-semibold text-slate-700 dark:text-slate-300 mb-2">Evaluation Date</label>
<input class="w-full px-4 py-3 bg-slate-100 dark:bg-slate-700 border-2 border-slate-200 dark:border-slate-600 rounded-lg text-slate-700 dark:text-slate-300" readonly type="text" value="January 25, 2026"/>
</div>
</div>
</form>
</section>
</div>

<!-- Right Column - Sidebar -->
<div class="space-y-6">
<!-- Student Information -->
<div class="bg-white dark:bg-slate-800 rounded-2xl border border-slate-200 dark:border-slate-700 p-6 shadow-sm">
<h3 class="text-sm font-bold text-slate-900 dark:text-white mb-4 uppercase tracking-wider flex items-center gap-2">
<span class="material-symbols-outlined text-primary text-lg">person</span>
                        Student Information
                    </h3>
<div class="space-y-4">
<div>
<p class="text-xs font-bold text-slate-400 uppercase">Student ID</p>
<p class="text-sm font-semibold text-slate-900 dark:text-white">IM/2022/087</p>
</div>
<div>
<p class="text-xs font-bold text-slate-400 uppercase">Full Name</p>
<p class="text-sm font-semibold text-slate-900 dark:text-white">Reshma Mohamed</p>
</div>
<div>
<p class="text-xs font-bold text-slate-400 uppercase">Year</p>
<p class="text-sm font-semibold text-slate-900 dark:text-white">2nd Year</p>
</div>
<div>
<p class="text-xs font-bold text-slate-400 uppercase">Email</p>
<p class="text-sm font-medium text-primary">reshma.m@pdn.ac.lk</p>
</div>
</div>
</div>

<!-- Exam Details -->
<div class="bg-white dark:bg-slate-800 rounded-2xl border border-slate-200 dark:border-slate-700 p-6 shadow-sm">
<h3 class="text-sm font-bold text-slate-900 dark:text-white mb-4 uppercase tracking-wider flex items-center gap-2">
<span class="material-symbols-outlined text-primary text-lg">assignment</span>
                        Exam Details
                    </h3>
<div class="space-y-4">
<div>
<p class="text-xs font-bold text-slate-400 uppercase">Exam Name</p>
<p class="text-sm font-semibold text-slate-900 dark:text-white">Cavity Preparation Exam</p>
</div>
<div>
<p class="text-xs font-bold text-slate-400 uppercase">Submission Date</p>
<p class="text-sm font-semibold text-slate-900 dark:text-white">October 17, 2025</p>
</div>
<div>
<p class="text-xs font-bold text-slate-400 uppercase">Attempt Number</p>
<p class="text-sm font-semibold text-slate-900 dark:text-white">1st Attempt</p>
</div>
<div>
<p class="text-xs font-bold text-slate-400 uppercase">Course</p>
<p class="text-sm font-semibold text-slate-900 dark:text-white">Operative Dentistry</p>
</div>
</div>
</div>

<!-- AI Criteria Override -->
<div class="bg-white dark:bg-slate-800 rounded-2xl border border-slate-200 dark:border-slate-700 p-6 shadow-sm">
<h3 class="text-sm font-bold text-slate-900 dark:text-white mb-4 uppercase tracking-wider">AI Evaluation Criteria</h3>
<div class="space-y-4">
<div>
<div class="flex justify-between text-xs mb-1.5">
<span class="font-medium text-slate-700 dark:text-slate-300">Smooth Outline</span>
<span class="text-primary dark:text-blue-400 font-bold">25%</span>
</div>
<div class="h-2 w-full bg-slate-200 dark:bg-slate-700 rounded-full overflow-hidden">
<div class="h-full bg-gradient-to-r from-blue-400 to-blue-600 transition-all" style="width: 25%"></div>
</div>
</div>
<div>
<div class="flex justify-between text-xs mb-1.5">
<span class="font-medium text-slate-700 dark:text-slate-300">Flat Floor</span>
<span class="text-primary dark:text-blue-400 font-bold">20%</span>
</div>
<div class="h-2 w-full bg-slate-200 dark:bg-slate-700 rounded-full overflow-hidden">
<div class="h-full bg-gradient-to-r from-blue-400 to-blue-600 transition-all" style="width: 20%"></div>
</div>
</div>
<div>
<div class="flex justify-between text-xs mb-1.5">
<span class="font-medium text-slate-700 dark:text-slate-300">Depth</span>
<span class="text-primary dark:text-blue-400 font-bold">15%</span>
</div>
<div class="h-2 w-full bg-slate-200 dark:bg-slate-700 rounded-full overflow-hidden">
<div class="h-full bg-gradient-to-r from-blue-400 to-blue-600 transition-all" style="width: 15%"></div>
</div>
</div>
<div>
<div class="flex justify-between text-xs mb-1.5">
<span class="font-medium text-slate-700 dark:text-slate-300">Undercut</span>
<span class="text-primary dark:text-blue-400 font-bold">25%</span>
</div>
<div class="h-2 w-full bg-slate-200 dark:bg-slate-700 rounded-full overflow-hidden">
<div class="h-full bg-gradient-to-r from-blue-400 to-blue-600 transition-all" style="width: 25%"></div>
</div>
</div>

<div class="pt-4 mt-4 border-t border-slate-200 dark:border-slate-700">
<label class="block text-xs font-bold text-slate-500 dark:text-slate-400 uppercase mb-2">Override Reason (Optional)</label>
<textarea class="w-full px-3 py-2 bg-slate-50 dark:bg-slate-900/50 border border-slate-200 dark:border-slate-700 rounded-lg focus:ring-2 focus:ring-primary text-slate-700 dark:text-slate-200 text-xs resize-none" placeholder="Enter reason for overriding AI evaluation..." rows="3"></textarea>
</div>
</div>
</div>

<!-- Action Buttons -->
<div class="space-y-3 sticky top-24">
<button onclick="submitEvaluation()" class="w-full py-3.5 px-4 bg-primary hover:bg-blue-600 text-white rounded-xl font-bold shadow-lg shadow-blue-500/30 hover:shadow-xl transition-all flex items-center justify-center gap-2">
<span class="material-symbols-outlined">send</span>
                        Submit Evaluation
                    </button>
<button onclick="saveDraft()" class="w-full py-3 px-4 border-2 border-slate-300 dark:border-slate-700 rounded-xl font-semibold text-slate-700 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors flex items-center justify-center gap-2">
<span class="material-symbols-outlined">save</span>
                        Save Draft
                    </button>
</div>
</div>
</div>
</div>
</main>

<!-- Image Modal -->
<div id="imageModal" class="fixed inset-0 bg-black/80 z-[100] hidden items-center justify-center p-4" onclick="closeImageModal()">
<div class="relative max-w-5xl w-full">
<button class="absolute -top-12 right-0 text-white hover:text-slate-300 transition-colors">
<span class="material-icons-round text-4xl">close</span>
</button>
<img id="modalImage" alt="Full size image" class="w-full h-auto rounded-lg shadow-2xl"/>
</div>
</div>

<button class="fixed bottom-6 right-6 p-4 bg-white dark:bg-slate-800 rounded-full shadow-2xl border border-slate-200 dark:border-slate-700 hover:scale-110 transition-transform z-[70]" onclick="document.documentElement.classList.toggle('dark')">
<span class="material-icons-round dark:hidden text-slate-800">dark_mode</span>
<span class="material-icons-round hidden dark:block text-yellow-400">light_mode</span>
</button>

<script>
// Image modal functions
function openImageModal(src) {
    const modal = document.getElementById('imageModal');
    const modalImg = document.getElementById('modalImage');
    modal.classList.remove('hidden');
    modal.classList.add('flex');
    modalImg.src = src;
}

function closeImageModal() {
    const modal = document.getElementById('imageModal');
    modal.classList.add('hidden');
    modal.classList.remove('flex');
}

// Save draft function
function saveDraft() {
    const grade = document.getElementById('finalGrade').value;
    const feedback = document.getElementById('lecturerFeedback').value;
    
    // Simulate saving
    alert('Draft saved successfully! You can continue editing this evaluation later.');
    console.log('Draft saved:', { grade, feedback, timestamp: new Date() });
}

// Submit evaluation function
function submitEvaluation() {
    const grade = document.getElementById('finalGrade').value;
    const feedback = document.getElementById('lecturerFeedback').value;
    
    if (!grade || !feedback) {
        alert('Please fill in both the grade and feedback before submitting.');
        return;
    }
    
    if (confirm('Are you sure you want to submit this evaluation? The student will receive an email notification and dashboard alert.')) {
        // Simulate submission
        const evaluationData = {
            studentId: 'IM/2022/087',
            studentName: 'Reshma Mohamed',
            studentEmail: 'reshma.m@pdn.ac.lk',
            examName: 'Cavity Preparation Exam',
            finalGrade: grade,
            lecturerFeedback: feedback,
            aiGrade: 85,
            submissionDate: 'October 17, 2025',
            evaluationDate: 'January 25, 2026',
            lecturerName: 'Dr. Kasun Perera'
        };
        
        console.log('Submitting evaluation:', evaluationData);
        
        // Simulate API call
        setTimeout(() => {
            // Show success message
            showSuccessNotification();
            
            // Simulate sending email and dashboard notification
            console.log('ðŸ“§ Email sent to:', evaluationData.studentEmail);
            console.log('ðŸ”” Dashboard notification created for student:', evaluationData.studentId);
            
            // Redirect after 3 seconds
            setTimeout(() => {
                alert('Evaluation submitted successfully!\n\nâœ… Student notified via email\nâœ… Dashboard notification sent\n\nRedirecting to submissions list...');
                // window.location.href = 'lecturer-submissions.html';
            }, 2000);
        }, 500);
    }
}

// Success notification
function showSuccessNotification() {
    const notification = document.createElement('div');
    notification.className = 'fixed top-24 right-6 bg-green-500 text-white px-6 py-4 rounded-xl shadow-2xl z-[80] flex items-center gap-3 animate-slide-in';
    notification.innerHTML = `
        <span class="material-icons-round text-2xl">check_circle</span>
        <div>
            <p class="font-bold">Evaluation Submitted!</p>
            <p class="text-sm opacity-90">Student has been notified</p>
        </div>
    `;
    document.body.appendChild(notification);
    
    setTimeout(() => {
        notification.remove();
    }, 5000);
}

// Form validation
document.getElementById('finalGrade').addEventListener('input', function(e) {
    const value = parseInt(e.target.value);
    if (value < 0) e.target.value = 0;
    if (value > 100) e.target.value = 100;
});
</script>

<style>
@keyframes slide-in {
    from {
        transform: translateX(400px);
        opacity: 0;
    }
    to {
        transform: translateX(0);
        opacity: 1;
    }
}

.animate-slide-in {
    animation: slide-in 0.3s ease-out;
}
</style>

</body>
</html>
